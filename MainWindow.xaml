<Window x:Class="MyDictionary.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MyDictionary"
        mc:Ignorable="d"
        Title="MyDictionary" Height="450" Width="800">
    <Grid>
        <Grid>
            <!-- Sidebar Overlay - Lớp phủ khi mở sidebar -->
            <Border x:Name="Overlay"
            Background="#80000000"
            Visibility="Collapsed"
            MouseDown="Overlay_MouseDown"
            Panel.ZIndex="99"/>

            <!-- Main Layout -->
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- Navbar -->
                    <RowDefinition Height="Auto"/>
                    <!-- Toolbar -->
                    <RowDefinition Height="*"/>
                    <!-- Main Content (ScrollViewer) -->
                </Grid.RowDefinitions>

                <!-- ================================= -->
                <!-- NAVBAR - Thanh điều hướng trên cùng -->
                <!-- ================================= -->
                <Border Grid.Row="0" Background="{DynamicResource NavbarBackground}" Padding="15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <!-- Hamburger button -->
                            <ColumnDefinition Width="*"/>
                            <!-- Search container -->
                            <ColumnDefinition Width="Auto"/>
                            <!-- Theme toggle -->
                        </Grid.ColumnDefinitions>

                        <!-- Hamburger Button - Mở/đóng Sidebar -->
                        <Button x:Name="HamburgerBtn"
                        Grid.Column="0"
                        Style="{StaticResource HamburgerButtonStyle}"
                        Click="HamburgerBtn_Click"/>

                        <!-- Search Container - Thanh tìm kiếm -->
                        <Border Grid.Column="1"
                        Style="{StaticResource SearchContainerStyle}"
                        MaxWidth="700"
                        HorizontalAlignment="Center" Width="518">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <!-- Search icon -->
                                    <ColumnDefinition Width="*"/>
                                    <!-- Search input -->
                                    <ColumnDefinition Width="Auto"/>
                                    <!-- Language select -->
                                    <ColumnDefinition Width="Auto"/>
                                    <!-- Search button -->
                                </Grid.ColumnDefinitions>

                                <!-- Search Icon -->
                                <TextBlock Grid.Column="0"
                                   Text="🔍"
                                   FontSize="18"
                                   VerticalAlignment="Center"
                                   Margin="0,0,10,0"/>

                                <!-- Search Input -->
                                <TextBox x:Name="SearchInput"
                                 Grid.Column="1"
                                 Style="{StaticResource SearchTextBoxStyle}"
                                />

                                <!-- Language Select -->
                                <ComboBox x:Name="LangSelect"
                                  Grid.Column="2"
                                  Style="{StaticResource LanguageComboBoxStyle}"
                                  Margin="15,0"
                                  SelectedIndex="0"
                                  VerticalAlignment="Center">
                                    <ComboBoxItem Content="Anh - Việt"/>
                                    <ComboBoxItem Content="Anh - Anh"/>
                                </ComboBox>

                                <!-- Search Button -->
                                <Button Grid.Column="3"
                                Content="Tìm kiếm"
                                Style="{StaticResource SearchButtonStyle}"
                                Click="SearchBtn_Click"
                                Name="tbnSearch"/>
                            </Grid>
                        </Border>

                        <!-- Theme Toggle - Nút chuyển đổi Dark/Light mode -->
                        <Border x:Name="ThemeToggle"
                        Grid.Column="2"
                        Width="70" Height="34"
                        Background="White"
                        CornerRadius="17"
                        Cursor="Hand"
                        MouseDown="ThemeToggle_MouseDown">
                            <Canvas>
                                <Border x:Name="ThemeSlider"
                                Width="28" Height="28"
                                Background="#5B7FFF"
                                CornerRadius="14"
                                Canvas.Left="3"
                                Canvas.Top="3">
                                    <TextBlock x:Name="ThemeIcon"
                                       Text="🌙"
                                       FontSize="16"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                                </Border>
                            </Canvas>
                        </Border>
                    </Grid>
                </Border>

                <!-- ================================= -->
                <!-- TOOLBAR - Thanh công cụ -->
                <!-- ================================= -->
                <Border Grid.Row="1"
                Background="{DynamicResource ToolbarBackground}"
                Padding="15,10">
                    <ScrollViewer HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Disabled">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <!-- Home Button -->
                            <Button Style="{StaticResource ToolButtonStyle}"
                            Tag="Home" Name="btnHome" Click="btnHome_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="🏠" FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="Home"/>
                                </StackPanel>
                            </Button>

                            <!-- History Button -->
                            <Button Style="{StaticResource ToolButtonStyle}"
                            Tag="History">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="🕐" FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="History"/>
                                </StackPanel>
                            </Button>

                            <!-- Favourite Button -->
                            <Button Style="{StaticResource ToolButtonStyle}"
                            Tag="Favourite">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="⭐" FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="Favourite"/>
                                </StackPanel>
                            </Button>

                            <!-- My Words Button -->
                            <Button Style="{StaticResource ToolButtonStyle}"
                            Tag="MyWords">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📖" FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="My Words"/>
                                </StackPanel>
                            </Button>

                            <!-- Game Button -->
                            <Button Style="{StaticResource ToolButtonStyle}"
                            Tag="Game">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="🎮" FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="Game"/>
                                </StackPanel>
                            </Button>

                            <!-- Offline Button -->
                            <Button Style="{StaticResource ToolButtonStyle}"
                            Tag="Offline">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📥" FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="Offline"/>
                                </StackPanel>
                            </Button>

                            <!-- Setting Button -->
                            <Button Style="{StaticResource ToolButtonStyle}"
                            Tag="Setting">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="⚙️" FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="Setting"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </ScrollViewer>
                </Border>

                <!-- ================================= -->
                <!-- MAIN CONTENT - Nội dung chính (có scroll) -->
                <!-- ================================= -->
                <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto"
                              Background="{DynamicResource MainBackground}">
                    <StackPanel>
                        <!-- Thông tin được load của các trang-->
                        <Border CornerRadius="10">
                            <StackPanel Orientation="Horizontal">
                                <Button Content="⟵" Style="{DynamicResource ToolButtonStyle}" 
                                        FontSize="8" Click="GoBackBtn_Click" />
                                <Button Content="⟶" Style="{DynamicResource ToolButtonStyle}" 
                                        FontSize="8" Click="GoForwardBtn_Click"/>
                            </StackPanel>
                        </Border>
                            
                        <Frame x:Name="MainFrame" NavigationUIVisibility="Hidden"/>
                    </StackPanel>
                </ScrollViewer>
            </Grid>

            <!-- ================================= -->
            <!-- SIDEBAR - Menu bên trái (ẩn/hiện) -->
            <!-- ================================= -->
            <Border x:Name="Sidebar"
            Width="280"
            HorizontalAlignment="Left"
            Background="{DynamicResource SidebarBackground}"
            Panel.ZIndex="100">
                <Border.RenderTransform>
                    <TranslateTransform X="-280"/>
                </Border.RenderTransform>
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.3"/>
                </Border.Effect>

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- Header -->
                        <RowDefinition Height="*"/>
                        <!-- Menu items -->
                    </Grid.RowDefinitions>

                    <!-- Sidebar Header -->
                    <Border Grid.Row="0"
                    Padding="25"
                    Background="{DynamicResource NavbarBackground}">
                        <StackPanel>
                            <TextBlock Text="📖 Dictionary"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="White"
                               HorizontalAlignment="Center"/>
                            <TextBlock Text="Quick Access Menu"
                               FontSize="12"
                               Foreground="White"
                               Opacity="0.9"
                               HorizontalAlignment="Center"
                               Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Sidebar Menu -->
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="0,20,0,0">
                            <!-- Trang chủ -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="Home" Click="btnHome_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="🏠" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Trang chủ"/>
                                </StackPanel>
                            </Button>

                            <!-- Lịch sử tra cứu -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="History">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="🕐" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Lịch sử tra cứu"/>
                                </StackPanel>
                            </Button>

                            <!-- Từ yêu thích -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="Favourite">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="⭐" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Từ yêu thích"/>
                                </StackPanel>
                            </Button>

                            <!-- Bộ sưu tập của tôi -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="Collection">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📚" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Bộ sưu tập của tôi"/>
                                </StackPanel>
                            </Button>

                            <!-- Trò chơi học từ -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="Game">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="🎮" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Trò chơi học từ"/>
                                </StackPanel>
                            </Button>

                            <!-- Thống kê học tập -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="Stats">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📊" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Thống kê học tập"/>
                                </StackPanel>
                            </Button>

                            <!-- Tải về offline -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="Download">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📥" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Tải về offline"/>
                                </StackPanel>
                            </Button>

                            <!-- Tài khoản -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="Account">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="👤" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Tài khoản"/>
                                </StackPanel>
                            </Button>

                            <!-- Cài đặt -->
                            <Button Style="{StaticResource SidebarButtonStyle}"
                            Tag="Settings">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="⚙️" FontSize="18" Margin="0,0,15,0"/>
                                    <TextBlock Text="Cài đặt"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </Border>
        </Grid>
    </Grid>

</Window>
